Received: from zinc.singnet.com.sg (zinc.singnet.com.sg [165.21.7.31])
	by aleve.media.mit.edu (8.8.7/ML970927) with ESMTP id KAA17137
	for <handyboard@media.mit.edu>; Wed, 6 May 1998 10:18:15 -0400 (EDT)
Received: from post1.com (qtns01752.singnet.com.sg [165.21.162.62])
	by zinc.singnet.com.sg (8.8.7/8.8.7) with ESMTP id WAA11627
	for <handyboard@media.mit.edu>; Wed, 6 May 1998 22:18:11 +0800 (SGT)
Message-Id: <355070A4.C2DB32E8@post1.com>
Date: Wed, 06 May 1998 22:16:04 +0800
From: Wong Sy Ming <smwong@post1.com>
Reply-To: smwong@post1.com
Organization: Home
X-Mailer: Mozilla 4.04 [en] (Win95; I)
Mime-Version: 1.0
To: handyboard@media.mit.edu
Subject: Multitasking
Content-Type: multipart/mixed; boundary="------------F035BAC4DA7BD4629C0143D8"

This is a multi-part message in MIME format.
--------------F035BAC4DA7BD4629C0143D8
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hello, I am multiplexing 5 LED displays through the Handy Board, but I
am getting excessive flicker as in the brightness of the displays is not
constant...the intensity of the displays varies from time to time. Does
anyone, then, have a program to multitask the multiplexing routine? The
whole program is attached here.

Thanks!



--------------F035BAC4DA7BD4629C0143D8
Content-Type: application/x-unknown-content-type-C_auto_file; name="leds.c"
Content-Transfer-Encoding: base64
Content-Disposition: inline; filename="leds.c"

aW50IGFbMTFdOw0KaW50IGJbNl07DQppbnQgY1s2XTsNCg0KaW50IGR1bW15Ow0Kdm9pZCBp
bml0KCkgew0KICAgICAgICAgLypnZmVkY2JhKi8NCiAgYVswXSA9IDBiMDExMTExMTsgLyog
MCAqLyAgDQogIGFbMV0gPSAwYjAwMDAxMTA7IC8qIDEgKi8gIA0KICBhWzJdID0gMGIxMDEx
MDExOyAvKiAyICovICANCiAgYVszXSA9IDBiMTAwMTExMTsgLyogMyAqLyAgDQogIGFbNF0g
PSAwYjExMDAxMTA7IC8qIDQgKi8NCiAgYVs1XSA9IDBiMTEwMTEwMTsgLyogNSAqLw0KICBh
WzZdID0gMGIxMTExMTAxOyAvKiA2ICovIA0KICBhWzddID0gMGIwMDAwMTExOyAvKiA3ICov
DQogIGFbOF0gPSAwYjExMTExMTE7IC8qIDggKi8NCiAgYVs5XSA9IDBiMTEwMTExMTsgLyog
OSAqLw0KDQogIGJbMV0gPSAwYjAwMTAwMDA7IC8qIGRpZ2l0IDEgKi8NCiAgYlsyXSA9IDBi
MDAwMTAwMDsgLyogZGlnaXQgMiAqLw0KICBiWzNdID0gMGIwMDAwMTAwOyAvKiBkaWdpdCAz
ICovDQogIGJbNF0gPSAwYjAwMDAwMTA7IC8qIGRpZ2l0IDQgKi8NCiAgYls1XSA9IDBiMDAw
MDAwMTsgLyogZGlnaXQgNSAqLw0KDQogIGNbMF0gPSAwYjAwMDAwMDA7DQogIGNbMV0gPSAw
YjAxMTAwMDA7IC8qIGRpZ2l0IDEgKi8NCiAgY1syXSA9IDBiMDEwMTAwMDsgLyogZGlnaXQg
MiAqLw0KICBjWzNdID0gMGIwMTAwMTAwOyAvKiBkaWdpdCAzICovDQogIGNbNF0gPSAwYjAx
MDAwMTA7IC8qIGRpZ2l0IDQgKi8NCiAgY1s1XSA9IDBiMDEwMDAwMTsgLyogZGlnaXQgNSAq
Lw0KDQp9DQoNCnZvaWQgd3JpdGVfcmVkX2RpZ2l0KGludCBkaWdpdCwgaW50IHZhbHVlKSB7
DQogIGJpdF9zZXQoMHg0MDAwLCAwKTsNCiAgYml0X3NldCgweDUwMDAsIGJbZGlnaXRdKTsN
CiAgYml0X3NldCgweDYwMDAsIDApOw0KICBiaXRfc2V0KDB4NDAwMCwgYVt2YWx1ZV0pOw0K
ICBkdW1teT1kdW1teTsNCiAgfQ0KDQp2b2lkIHdyaXRlX29yYW5nZV9kaWdpdChpbnQgZGln
aXQsIGludCB2YWx1ZSkgew0KICBiaXRfc2V0KDB4NDAwMCwgMCk7DQogIGJpdF9zZXQoMHg1
MDAwLCBiW2RpZ2l0XSk7DQogIGJpdF9zZXQoMHg2MDAwLCBjW2RpZ2l0XSk7DQogIGJpdF9z
ZXQoMHg0MDAwLCBhW3ZhbHVlXSk7DQogIH0NCg0Kdm9pZCBtdWx0aXBsZXgoaW50IG1pbiwg
aW50IHNlYywgaW50IHNlYzEwMCkgew0KaW50IHNlYzEwcywgc2VjMXMsIHNlYzEwdGhzLCBz
ZWMxMDB0aHM7DQoNCiAgc2VjMTBzID0gc2VjIC8gMTA7DQogIHNlYyA9IHNlYyAtIChzZWMx
MHMgKiAxMCk7DQogIHNlYzFzID0gc2VjOw0KDQogIHNlYzEwdGhzID0gc2VjMTAwIC8gMTA7
DQogIHNlYzEwMCA9IHNlYzEwMCAtIChzZWMxMHRocyAqIDEwKTsNCiAgc2VjMTAwdGhzID0g
c2VjMTAwOw0KDQogIGlmIChtaW4gPiAwKQ0KeyAgd3JpdGVfb3JhbmdlX2RpZ2l0KDUsIG1p
bik7DQogIHdyaXRlX29yYW5nZV9kaWdpdCg0LCBzZWMxMHMpOw0KICB3cml0ZV9vcmFuZ2Vf
ZGlnaXQoMywgc2VjMXMpOw0KICB3cml0ZV9vcmFuZ2VfZGlnaXQoMiwgc2VjMTB0aHMpOw0K
ICB3cml0ZV9vcmFuZ2VfZGlnaXQoMSwgc2VjMTAwdGhzKTsgfQ0KICBlbHNlDQp7ICB3cml0
ZV9yZWRfZGlnaXQoNSwgbWluKTsNCiAgd3JpdGVfcmVkX2RpZ2l0KDQsIHNlYzEwcyk7DQog
IHdyaXRlX3JlZF9kaWdpdCgzLCBzZWMxcyk7DQogIHdyaXRlX3JlZF9kaWdpdCgyLCBzZWMx
MHRocyk7DQogIHdyaXRlX3JlZF9kaWdpdCgxLCBzZWMxMDB0aHMpOyB9DQogIGR1bW15PWR1
bW15Ow0KICBkdW1teT1kdW1teTsNCiAgYml0X3NldCgweDUwMDAsIDApOw0KICBiaXRfc2V0
KDB4NjAwMCwgMCk7IA0KICB9DQoNCnZvaWQgYWJjKCkgew0KICBpbnQgaSwgaiwgbWluLCBz
ZWMsIHNlYzEwMDsNCiAgaW5pdCgpOw0KICBtaW4gPSAwOw0KICBzZWMgPSA1Ow0KICBzZWMx
MDAgPSAwMDsNCg0KICAgIHdoaWxlKG1pbiA+IC0xKSB7DQogICAgIHNlYzEwMC0tOw0KDQog
ICAgIGlmIChzZWMxMDAgPCAwKSB7DQogICAgICAgc2VjMTAwID0gOTk7DQogICAgICAgc2Vj
LS07DQogICAgICAgfQ0KDQogICAgIGlmIChzZWMgPCAwKSB7DQogICAgICAgICBzZWMgPSA1
OTsNCiAgICAgICAgIG1pbi0tOw0KICAgICAgICAgfQ0KICAgICAgDQogICAgaWYgKChzZWMx
MDAgIT0gLTEpICYgKG1pbiAhPSAtMSkgJiAoc2VjICE9IC0xKSkgew0KICAgICBtdWx0aXBs
ZXgobWluLCBzZWMsIHNlYzEwMCk7IH0gZWxzZSB7DQogICAgIHdoaWxlKDEpIHsNCiAgICAg
bXVsdGlwbGV4KDAsIDAsIDApOw0KICAgICB9DQogICAgIH0NCiAgICB9DQogYml0X3NldCgw
eDQwMDAsIDApOw0KIH0NCg0KDQoNCg0KDQoNCg==
--------------F035BAC4DA7BD4629C0143D8--


